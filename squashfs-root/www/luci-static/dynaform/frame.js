(function(){if(!window.console){var a="log debug info warn error assert".split(" ");window.console={};for(var b=0;b<a.length;b++)window.console[a[b]]=function(){}}})();
function PageFunc(){this.pathStr="/";this.pageStyle="h5";this.htmlPathStr=this.pathStr+this.pageStyle+"/";this.loginId="Login";this.coverId="Cover";this.helpIdStr="helpStr";this.LGKEYTIMESTR="lgKeyTime";this.landscapeHdInit=function(){var a=function(a){switch(a){case 90:case -90:showAlertNoBtn(label.landscapeTip);break;default:closeAlert()}};(function(){"number"===typeof window.orientation&&"object"===typeof window.onorientationchange?(window.addEventListener("orientationchange",function(){a(window.orientation)},
!1),a(window.orientation)):(window.addEventListener("resize",function(){window.innerWidth>window.innerHeight&&a(90)},!1),window.innerWidth>window.innerHeight&&a(90))})()};this.getPageStyle=function(){var a;try{a=sessionLS.getItem("pageStyle")}catch(b){}null!=a&&(OS.mobile="h5"==a);"ap"==ROUTER.modeSwitch&&(OS.mobile=!1);return OS.mobile};this.setPageStyle=function(a){if(!1==a)try{sessionLS.removeItem("pageStyle")}catch(b){}else try{sessionLS.setItem("pageStyle",a)}catch(c){}};this.pageStyleInit=function(a){this.pageStyle=
a;this.htmlPathStr=this.pathStr+this.pageStyle+"/"};this.$Init=function(){Load.call(jQuery);$.getExplorer();$.initUrl();$.initSession()};this.initSwitch=function(a,b,c){a=$("#"+a);1==(b||0)?(a.attr("data-value","1").css({textAlign:"right",backgroundColor:"#FE9818",border:"2px solid #FE9818"}),c&&c(1,!0)):(a.attr("data-value","0").css({textAlign:"left",backgroundColor:"#B2B2B2",border:"2px solid #B2B2B2"}),c&&c(0,!0));a.click(function(){$(".err-note").hide();0==$(this).attr("data-value")?($(this).attr("data-value",
"1").css({textAlign:"right",backgroundColor:"#FE9818",border:"2px solid #FE9818"}),c&&c(1,!1)):($(this).attr("data-value","0").css({textAlign:"left",backgroundColor:"#B2B2B2",border:"2px solid #B2B2B2"}),c&&c(0,!1))})};this.resetSwitch=function(a,b){var c=$("#"+a);1==(b||0)?c.attr("data-value","1").css({textAlign:"right",backgroundColor:"#FE9818"}):c.attr("data-value","0").css({textAlign:"left",backgroundColor:"#B2B2B2"})};this.initRadio=function(a,b,c){a=$("#"+a+" span.radio");b=parseInt(b,10);for(var d=
a.length,e=0;e<d;e++)b==e?$(a[e]).removeClass("uncheck").addClass("checked").attr("data-idx",e):$(a[e]).removeClass("checked").addClass("uncheck").attr("data-idx",e);c&&c(b);a.click(function(){var a=$(this),b=parseInt(a.attr("data-idx"));a.hasClass("checked")||(a.removeClass("uncheck").addClass("checked"),a.siblings("span.radio").removeClass("checked").addClass("uncheck"),c&&c(b))})};this.loadPageHandleBg=function(a){$("#"+a+" input.hover").bind("focus",function(){$(".err-note").hide();$(this).parent("li.text-con").addClass("text-con-focus")}).bind("blur",
function(){$(this).parent("li.text-con").removeClass("text-con-focus")});$("#"+a+" i.icon-eye").click(function(){0==$(this).attr("data-value")?($(this).attr("data-value","1").removeClass("icon_eye_close").addClass("icon_eye_open"),$(this).prev("input").attr("type","text")):($(this).attr("data-value","0").removeClass("icon_eye_open").addClass("icon_eye_close"),$(this).prev("input").attr("type","password"))}).each(function(){1==($(this).attr("data-value")||0)?($(this).attr("data-value","1").removeClass("icon_eye_close").addClass("icon_eye_open"),
$(this).prev("input").attr("type","text").addClass("text-eye")):($(this).attr("data-value","0").removeClass("icon_eye_open").addClass("icon_eye_close"),$(this).prev("input").attr("type","password").addClass("text-eye"))});0<$("div.help").length?($("#HelpIcon").removeClass("disabled"),id("HelpIcon").onclick=function(){clickHelp();var a=$("div.help ul.help-content").clone();$("#Help div.help-info").html(a);$("#Help").addClass("help-show");a=$("#Help").height()+"px";$("#Help i.help-back").css("lineHeight",
a)}):($("#HelpIcon").addClass("disabled"),id("HelpIcon").onclick=null);$("#Help").removeClass("help-show")};this.loadPage=function(a,b,c,d){var e=this;window.setTimeout(function(){closeCover();$.load(e.htmlPathStr+a,c,b,d)},0)};this.unloadDetail=function(a){if(a=id(a))a.innerHTML=""};this.detailShow=function(a,b){$("#"+a).fadeIn(800,b)};this.detailHide=function(a,b){$("#"+a).fadeOut(800,function(){$("#"+a).css("display","none");window.unloadDetail(b)})};this.selectChange=function(a,b){id(a).value=
b.options[b.selectedIndex].text};this.localSgInit=function(){try{this.sessionLS.init(),!0==isIE&&!1==isIENormal&&function(){sessionLS.setExpire(3E3);window.setTimeout(arguments.callee,1E3)}()}catch(a){}};this.showUserAgreement=function(){loadWidget("userAgreement.htm")};this.showModifyPwd=function(){loadWidget("modifyPwd.htm")};this.showTimeReboot=function(){loadWidget("timeReboot.htm")};this.loadWidget=function(a,b){var c=document,d=c.createElement("div");d.className="pop-cover";d.id="_Cover";c.body.appendChild(d);
d=c.createElement("div");d.className="pop-widget";d.id="_Widget";c.body.appendChild(d);this.loadPage(a,"_Widget",function(){$("#_Cover").fadeIn("fast");$("#_Widget").show().find(".close-btn").one("click",function(){$("#_Cover").fadeOut("fast",function(){$(this).remove()});$("#_Widget").remove()});b&&b()},!1)};this.logout=function(){apiLogout(function(a){$.setSession("");stateman.go("login")})};this.iFrmOnload=function(a,b){var c={},d=id(a);try{var e;e=d.contentWindow?d.contentWindow.document.body?
d.contentWindow.document.body.innerHTML:"":d.contentDocument.document.body?d.contentDocument.document.body.innerHTML:"";if(/(<pre)?({.+})(<\/pre>)+/.test(e)||/(<pre)?({.+})/.test(e))switch(c=JSON.parse(RegExp.$2),c[ERR_CODE]){case E_SESSIONTIMEOUT:showAlert(label.loginTimeout,function(a){stateman.go("login")});break;case E_UNAUTH:stateman.go("login")}b(c)}catch(f){b(c)}};this.pageRedirect=function(){var a=BROWSER.lan,b=ROUTER.domain,c=window.location.href;return!1==/^((http:\/\/)*(\d{1,3}\.){3}\d{1,3})/g.test(c)&&
a&&0>c.indexOf(b)||0<=c.indexOf("?t=")?!0:!1};this.rmH5Lang=function(){if(OS.mobile){for(var a=ROUTER.languageList,b=[],c=["zh-cn","en-us","de-de"],d=0,e=0;e<c.length;e++)0<=a.indexOf(c[e])?b.push(c[e]):d++;d==c.length&&b.push("en-us");a.splice(0,a.length);for(e=0;e<b.length;e++)a.push(b[e]);"zh-cn"!=ROUTER.lang&&"en-us"!=ROUTER.lang&&"de-de"!=ROUTER.lang&&(ROUTER.lang="en-us")}return ROUTER.lang};this.langDetection=function(){var a=navigator.browserLanguage?navigator.browserLanguage:navigator.language,
a=a.toLocaleLowerCase(),b=ROUTER.languageList;if(0<a.length){for(var c="no-match",d="",e=0;e<b.length;e++)if(b[e].substr(0,2)==a.substr(0,2))if(b[e].substr(3,2)==a.substr(3,2)){c="match";break}else c="half-match",d=b[e];"no-match"==c?a="en-us":"half-match"==c&&(a="zh"==a||"zh-sg"==a||"zh-my"==a||"zh-chs"==a||"zh-hans"==a?"zh-cn":"zh"==a.substr(0,2)?"zh-tw":d)}else a="en-us";return a};this.pageOnload=function(){{"ap"==ROUTER.modeSwitch&&
setPageStyle("pc");getPageStyle();var a="";""==ROUTER.lang?(a=langDetection(),ROUTER.lang=a):a=ROUTER.lang;var a=rmH5Lang(),b=[],c=[{tag:"script",url:"/luci-static/dynaform/vendor.js?_=20180420151033"},{tag:"script",url:"/luci-static/lib/libs.js?_=20180420151033"}],d=[{tag:"script",url:"/luci-static/lib/ajax.js?_=20180420151033"},{tag:"script",url:"/luci-static/dynaform/routing.js?_=20180420151033"},{tag:"script",url:"/luci-static/dynaform/error.js?_=20180420151033"},{tag:"script",url:"/luci-static/dynaform/product.js?_=20180420151033"},
{tag:"script",url:"/luci-static/dynaform/verify.js?_=20180420151033"},{tag:"script",url:"/luci-static/dynaform/help.js?_=20180420151033"},{tag:"script",url:"/luci-static/dynaform/default_feature.js?_=20180420151033"},{tag:"script",url:"/luci-static/dynaform/feature.js?_=20180420151033"},{tag:"script",url:"/luci-static/dynaform/cityList.js?_=20180420151033"}],e=[],f=[{tag:"script",url:"/luci-static/lib/jquery.min.js?_=20180420151033"},{tag:"script",url:"/luci-static/lib/stateman.min.js?_=20180420151033"},
{tag:"script",url:"/luci-static/lib/json.min.js?_=20180420151033"},{tag:"script",url:"/luci-static/lib/echarts.simple.min.js?_=20180420151033"},{tag:"script",url:"/luci-static/dynaform/"+a+".js?_=20180420151033"}];if(OS.mobile){f.splice(0,0,{tag:"script",url:"/luci-static/lib/flexible.min.js?_=20180420151033"});f.push({tag:"script",url:"/luci-static/dynaform/h5.js?_=20180420151033"});e.push({tag:"link",url:"/luci-static/dynaform/h5.css?_=20180420151033"});for(var k={"zh-cn":[],"en-us":[{tag:"link",
url:"/luci-static/dynaform/h5-en-us.css?_=20180420151033"}],"de-de":[{tag:"link",url:"/luci-static/dynaform/h5-de-de.css?_=20180420151033"}]},g=0;g<k[a].length;g++)e.push(k[a][g])}else{var h=function(a){return a=((location.pathname||"/cgi-bin")+"/css"+a).replace("//","/")};e.push({tag:"link",url:h("/luci-static/dynaform/pc.css?_=20180420151033")});f.push({tag:"script",url:"/luci-static/dynaform/pc.js?_=20180420151033"});k={"zh-cn":[],"en-us":[{tag:"link",url:h("/luci-static/dynaform/pc-en-us.css?_=20180420151033")}],
"de-de":[{tag:"link",url:h("/luci-static/dynaform/pc-de-de.css?_=20180420151033")}],"ru-ru":[{tag:"link",url:h("/luci-static/dynaform/pc-ru-ru.css?_=20180420151033")}],"fr-fr":[{tag:"link",url:h("/luci-static/dynaform/pc-fr-fr.css?_=20180420151033")}],"es-es":[{tag:"link",url:h("/luci-static/dynaform/pc-es-es.css?_=20180420151033")}],"it-it":[{tag:"link",url:h("/luci-static/dynaform/pc-it-it.css?_=20180420151033")}],"pt-pt":[{tag:"link",url:h("/luci-static/dynaform/pc-pt-pt.css?_=20180420151033")}],
"uk-ua":[{tag:"link",url:h("/luci-static/dynaform/pc-uk-ua.css?_=20180420151033")}],"zh-tw":[{tag:"link",url:h("/luci-static/dynaform/pc-zh-tw.css?_=20180420151033")}],"ja-jp":[{tag:"link",url:h("/luci-static/dynaform/pc-ja-jp.css?_=20180420151033")}],"ko-kr":[{tag:"link",url:h("/luci-static/dynaform/pc-ko-kr.css?_=20180420151033")}],"vi-vi":[{tag:"link",url:h("/luci-static/dynaform/pc-vi-vi.css?_=20180420151033")}],"id-id":[{tag:"link",url:h("/luci-static/dynaform/pc-id-id.css?_=20180420151033")}],
"th-th":[{tag:"link",url:h("/luci-static/dynaform/pc-th-th.css?_=20180420151033")}]};for(g=0;g<k[a].length;g++)e.push(k[a][g]);isIE&&(f.push({tag:"script",url:"/luci-static/lib/respond.min.js?_=20180420151033"}),isIENormal||e.push({tag:"link",url:h("/luci-static/dynaform/ie.css?_=20180420151033")}))}this.loadExternResource({scripts:f,links:e,callBack:function(){this.loadExternResource({scripts:d,callBack:function(){$Init();if(OS.mobile)pageStyleInit("h5"),landscapeHdInit();else{pageStyleInit("pc");
$("i.help-back").click(function(){$("#Help").removeClass("help-show");closeHelp()});var a=new NiceScroll("HelpInfo");a.scrollBarSet({zIndex:1021});a.scrollTipSet({background:"#939393",opacity:"0.2"});a.init()}$.setexternJSP(replaceJSP);!OS.mobile&&$.setResponsiveCSS(replaceCSS);$.setExternPageHandle(loadPageHandleBg);this.loadExternResource({scripts:c,links:b});this.localSgInit();this.compatibleShow();stateman.start()}})}});document.oncontextmenu=function(a){return!1};if(isIESix)try{document.execCommand("BackgroundImageCache",
!1,!0)}catch(l){}}};this.loadExternResource=function(a){var b,c,d,e,f=document.getElementsByTagName("head")[0];b={links:null,scripts:null,callBack:null};for(var k in a)b[k]=a[k];a=b.links;c=b.scripts;d=b.callBack;if(void 0!=a){k="height="+window.screen.height+"&width="+window.screen.width;for(var g in a){var h=a[g].url;b=document.createElement("link");b.rel="stylesheet";b.href=0<=h.indexOf("?")?h+"&"+k:h+"?"+k;f.appendChild(b)}}if(void 0!=c){var l;b=document.createElement("script");b.type="text/javascript";
if(void 0!=d)for(g in e=void 0!=b.readyState,l=function(a){c[a].loadState=!0;for(var b in c)if(!1==c[b].loadState)return;d()},c)c[g].loadState=!1;for(g in c)b=document.createElement("script"),b.type="text/javascript",void 0!=d&&(e?b.onreadystatechange=function(a){return function(){if("loaded"==this.readyState||"complete"==this.readyState)this.onreadystatechange=null,l(a)}}(g):b.onload=function(a){return function(){l(a)}}(g)),b.src=c[g].url,f.appendChild(b)}}}
function Style(){this.disableCol="#b2b2b2";this.setStyle=function(a,b){if(null!=a&&null!=b&&1==a.nodeType)for(var c in b)try{a.style[c]=b[c]}catch(d){}};this.getNodeDefaultView=function(a,b){var c=null;if(!a)return null;try{return c=a.currentStyle?a.currentStyle:document.defaultView.getComputedStyle(a,null),void 0!=b?c[b]:c}catch(d){}}}
function LocalStorageSD(){try{this.sessionLS=null==this.sessionStorage?{file_name:"user_data_default_SD",dom:null,init:function(){var a=document.createElement("input");a.type="hidden";a.addBehavior("#default#userData");document.body.appendChild(a);a.save(this.file_name);this.dom=a},setItem:function(a,c){this.dom.setAttribute(a,c);this.dom.save(this.file_name)},getItem:function(a){this.dom.load(this.file_name);return this.dom.getAttribute(a)},removeItem:function(a){this.dom.removeAttribute(a);this.dom.save(this.file_name)},
setExpire:function(a){var c=new Date,c=new Date(c.getTime()+a);this.dom.load(this.file_name);this.dom.expires=c.toUTCString();this.dom.save(this.file_name)}}:sessionStorage}catch(a){}}
function Explorer(){this.isIETenLess=this.isIENormal=this.isIESeven=this.isIESix=this.isIE=!1;this.explorerInfo=navigator.userAgent;this.getIEInfo=function(){isIE=/msie ((\d+\.)+\d+)/i.test(explorerInfo)?document.mode||RegExp.$1:!1;!1!=isIE&&(6>=isIE?this.isIESix=!0:7==isIE?this.isIESeven=!0:9<=isIE&&(this.isIENormal=!0),10>=isIE&&(this.isIETenLess=!0),this.isIE=!0)};this.compatibleShow=function(){!isIE||!1!=this.isIENormal||0<=document.cookie.indexOf("ieTipClosed")||(alert(label.IETip),document.cookie=
"ieTipClosed=true")};this.getIEInfo()}
function Tool(){Style.call(this);this.id=function(a){if(void 0!=a)return document.getElementById(a)};this.el=function(a){try{return document.createElement(a)}catch(b){return null}};this.replaceJSP=function(a){var b=null,c,d=/{%(\w+)\.(\w+)%}/i,b=d.exec(a);try{for(;null!=b;)c=language[b[1]][b[2]],a=a.replace("{%"+b[1]+"."+b[2]+"%}",c),b=d.exec(a)}catch(e){}return a};this.getNearstInt=function(a){var b=a;return b=1<=a?Math.floor(a):0<a?1:0};this.replaceCSS=function(a){var b=window.screen.height/900;
return a.replace(/<style.*>[\s\S]+<\/style>/gmi,function(a){return a.replace(/\d+[\s]*px/gi,function(a){return getNearstInt(parseInt(a)*b)+"px"})})};this.getoffset=function(a,b){for(var c=a,d={top:0,left:0};c!=b;)d.left+=parseInt(c.offsetLeft),d.top+=parseInt(c.offsetTop),c=c.offsetParent;return d};this.attachEvnt=function(a,b,c){0==b.indexOf("on")&&(b=b.substring(2));document.body.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)};this.detachEvnt=function(a,b,c){0==b.indexOf("on")&&
(b=b.substring(2));document.body.attachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)};this.stopProp=function(a){a=a||window.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};this.eventPreventDefault=function(a){a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1};this.clearSelection=function(){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()};this.setDomCursorPos=function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,
b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0);c.moveEnd("character",b);c.moveStart("character",b);c.select()}};this.getMousePos=function(a){a=a||window.event;var b=document;return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+b.documentElement.scrollLeft-b.documentElement.clientLeft,y:a.clientY+b.documentElement.scrollTop-b.documentElement.clientTop}};this.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};this.upDown=function(a,b,c,d,e){if(void 0!=
c&&void 0!=d){var f=this.el("label");f.className=d;f.onclick=function(){$("#"+b).slideToggle("normal",function(){f.className=f.className==c?d:c;if(e)try{e()}catch(a){}})};a.appendChild(f);return f}};this.arrowUpDown=function(a,b,c){this.upDown(a,b,"arrowUp","arrowDown",c)};this.getChildNode=function(a,b,c){a=a.childNodes;var d=[],e=0,f;f=b.split(" ");b=f[0];for(var k=f[1],g=0,h=a.length;g<h;g++)f=a[g],1==f.nodeType&&f.tagName.toLowerCase()==b&&(void 0!=k&&f.type==k?(d[e]=f,e++):void 0==k&&(d[e]=f,
e++));return void 0!=c?d[c]:d[0]};this.checkInHorize=function(a){for(;null!=a&&"HTML"!=a.nodeName.toUpperCase();){if("hidden"==this.getNodeDefaultView(a,"visibility")||"none"==this.getNodeDefaultView(a,"display"))return!1;a=a.parentNode}return!0};this.setUrlHash=function(a,b){var c,d,e;c="";var f=location.href;d=location.hash;void 0!=a&&void 0!=b&&0!=a.length&&(0!=d.length?(e=d.indexOf(a),0<=e?(c=d.substring(0,e),d=d.substring(e),e=d.indexOf("#"),0<e?(d=d.substring(e),d=c+a+"="+b+d):d=c+a+"="+b):
("#"!=d.substring(d.length-1)&&(c="#"),d+=c+a+"="+b),location.href=f.substring(0,f.indexOf("#"))+d):f.lastIndexOf("#")==f.length-1?location.href+=a+"="+b:location.href+="#"+a+"="+b)};this.getUrlHash=function(a){var b=location.hash,c,d="";if(0<b.indexOf(a)){var b=b.substring(1).split("#"),e;for(e in b)if(c=b[e].split("="),c[0]==a){d=c[1];break}}return d};this.changeUrlHash=function(a){var b=location.href,c=b.indexOf("#");void 0!=a&&(location.href=0<c?b.substring(0,c+1)+a:b+"#"+a)};this.setInputCursor=
function(a){this.setDomCursorPos(a,a.value.length)};this.getCNStrLen=function(a){return a.replace(/[^\x00-\xFF]/g,"xxx").length};this.getStrInMaxByte=function(a,b){for(var c=0,d=0;d<a.length;d++){c=/[\x00-\xFF]/g.test(a.charAt(d))?c+1:c+3;if(c>b)return a.substring(0,d);if(c==b)return a.substring(0,d+1)}return a};this.getCNStrHTMLLen=function(a){return a.replace(/[^\x00-\xFF]/g,"xx").length};this.getStrInMax=function(a,b){var c="",d,e=0;d=a.replace(/[A-Z]/g,"xx");if(getCNStrHTMLLen(d)<=b)return a;
for(var f=1;f<=b;f++){d=a.charAt(e);if(""==d)break;2==getCNStrHTMLLen(d)||!0==/[A-Z]/g.test(d)?(f++,c+=d,beCut=!0):c+=d;e++}return c+"..."};this.netSpeedTrans=function(a){a=parseInt(a,10);a=1073741824<=a?(a/1073741824).toFixed(2)+"GB/s":1048576<=a?(a/1048576).toFixed(2)+"MB/s":1024<=a?(a/1024).toFixed(0)+"KB/s":a.toFixed(0)+"B/s";return a.toString()};this.timeTrans=function(a){var b=parseInt(a,10);a=parseInt(b/86400);var c=parseInt(b%86400/3600),d=parseInt(b%3600/60),b=parseInt(b%60),e="";0<a&&(e+=
a+label.day+" ");0<c&&(e+=c+label.hour+" ");0<d&&(e+=d+label.minute+" ");0<=b&&(e+=b+label.second+" ");return e};this.max=function(){for(var a=Number.NEGATIVE_INFINITY,b=0;b<arguments.length;b++)arguments[b]>a&&(a=arguments[b]);return a};this.EncodeURLIMG=document.createElement("img");this.escapeDBC=function(a){var b=this.EncodeURLIMG;if(!a)return"";if(window.ActiveXObject)return execScript('SetLocale "zh-cn"',"vbscript"),a.replace(/[\d\D]/g,function(a){window.vbsval="";execScript('window.vbsval=Hex(Asc("'+
a+'"))',"vbscript");return"%"+window.vbsval.slice(0,2)+"%"+window.vbsval.slice(-2)});b.src="nothing.png?separator="+a;return b.src.split("?separator=").pop()};this.encodeURL=function(a){return encodeURIComponent(a)};this.doNothing=function(){return!0};this.htmlEscape=function(a){void 0!=a&&(a=a.toString().replace(/[<>&"]/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case '"':return"&quot;"}}));return a};this.simulateMouseC=function(a){simulateMouseC=!0==
isIE&&!1==isIENormal?function(a){var c=document.createEventObject();c.sceenX=100;c.sceenY=0;c.clientX=0;c.clientY=0;c.ctrlKey=!1;c.altKey=!1;c.shiftKey=!1;c.button=0;a.fireEvent("onclick",c)}:function(){};simulateMouseC(a)}}
function ShowTips(){this.showCover=function(){$("#Pop").show();$("#Cover").fadeIn("fast")};this.closeCover=function(){$("#Pop").hide();$("#Cover").fadeOut("fast")};this.showLoading=function(a){a='<div class="loading"><div class="outer-circle"><div class="inside-circle"><i class="circle"></i></div></div><p class="loading-tip">'+a+"</p></div>";$("#Cover").fadeIn("fast");$("#Pop").empty().append(a).show()};this.closeLoading=function(a){a?window.setTimeout(function(){closeCover()},1E3*a):closeCover()};
this.handleError=function(a,b,c){if(E_NONE==a)return!1;a=getErrTip(a,c);b?b(a):showNote(a);return!0};this.getErrTip=function(a,b){var c="99999",c=parseInt(b)?"9"+a.toString().substring(2):""+a.toString().substring(1),c="error_code_"+parseInt(c).toString();return errStrNew[c]?errStrNew[c]:errStrNew.error_code_99999+a};this.showNote=function(a){$(".err-note").show();$(".err-note").children(".note-str").html(a)};this.closeNote=function(){$(".err-note").hide()};this.showAlert=function(a,b){var c='<div class="alert"><p class="alert-title">'+
label.alertTip+'</p><p class="alert-tip">'+a+'</p><div class="alert-btn-con"><input class="alert-btn" type="button" value="'+btn.ok+'" /></div></div>';$("#Cover").fadeIn("fast");$("#Pop").empty().append(c).show();$("input.alert-btn").click(function(){closeAlert(b)})};this.showAlertNoBtn=function(a,b){var c='<div class="alert-b"><p class="alert-title">'+label.alertTip+'</p><p class="alert-tip">'+a+"</p></div>";$("#Cover").fadeIn("fast");$("#Pop").empty().append(c).show()};this.closeAlert=function(a){closeCover();
a&&a()};this.showConfirm=function(a,b){var c='<div class="alert"><p class="alert-title">'+label.alertTip+'</p><p class="alert-tip">'+a+'</p><div class="alert-btn-con"><input class="confirm-btn confirm-btn-l" type="button" value="'+btn.cancel+'" /><input class="confirm-btn confirm-btn-r" type="button" value="'+btn.ok+'" /></div></div>';$("#Cover").fadeIn("fast");$("#Pop").empty().append(c).show();$("input.confirm-btn-l").click(function(){closeConfirm(function(){b&&b(!1)})});$("input.confirm-btn-r").click(function(){closeConfirm(function(){b&&
b(!0)})})};this.closeConfirm=function(a){closeCover();a&&a()};this.refreshProgressBar=this.progressBarTimer=null;this.showProgressBar=function(a,b,c,d){a='<div class="alert progress-bar-con"><p class="alert-title progress-title">'+a+'</p><div class="progress-bar"><p class="percent"><label class="percent">0%</label></p><p class="percent"><i class="icon_position"></i></p><div class="bar"><p class="percent progress"></p></div></div><p class="progress-bar-tip">'+b+"</p></div>";$("#Cover").fadeIn("fast");
$("#Pop").empty().append(a).show();this.refreshBar=function(a){var b=a+"%",c=$(".progress-bar").width();$("p.percent").width(b);$("label.percent").text(b);var b=$("i.icon_position").width()/2,g=c*a/100-b;g>b&&(g=b);$("label.percent").css("left",g+"px");b=$("i.icon_position").width()/2;c=c*a/100-b;c>b&&(c=b);$("i.icon_position").css("left",c+"px");100<=a&&(this.count=0,clearInterval(progressBarTimer),d&&d())};this.progressBarPercent=0;this.interval=c/100;this.targetPercent=100;this.countUpPercent=
function(){this.progressBarPercent++;this.progressBarPercent>this.targetPercent&&this.progressBarPercent--;return this.progressBarPercent};this.refreshProgressBar=function(a,b){this.targetPercent=a;this.interval=b/(targetPercent-this.progressBarPercent);clearInterval(this.progressBarTimer);this.progressBarTimer=$.setInterval(function(){this.refreshBar(this.countUpPercent())},this.interval)};this.refreshBar(this.countUpPercent());clearInterval(this.progressBarTimer);this.progressBarTimer=$.setInterval(function(){this.refreshBar(this.countUpPercent())},
this.interval)}}
function Phone(){this.OS={windows:!1,windowsPhone:!1,unixPC:!1,iPad:!1,iPhone:!1,iMacPC:!1,iPod:!1,android:!1,nokia:!1,player:!1,Android_UC:!1,portable:!1,mobile:!1,app:!1,deviceType:"h5",checkDeviceMode:function(){var a=navigator.platform,b=navigator.userAgent;this.app=0<=b.indexOf("Phicomm");if(void 0!=a)if(0<=a.indexOf("Win"))0<=b.indexOf("Windows Phone")?this.mobile=this.portable=this.windows=this.windowsPhone=!0:(this.windows=!0,this.portable=!1);else if(0<=b.indexOf("NOKIA"))this.mobile=this.portable=
this.nokia=!0;else if(0<=b.indexOf("Android"))this.mobile=this.portable=this.android=!0;else if(0<=a.indexOf("iPad"))this.portable=this.iPad=!0,this.mobile=!1;else if(0<=a.indexOf("iPhone"))this.mobile=this.portable=this.iPhone=!0;else if(0<=a.indexOf("iPod"))this.mobile=this.portable=this.iPod=!0;else if(0<=b.indexOf("Wii")||0<=b.indexOf("PLASTATION"))this.mobile=this.portable=this.player=!0;else if(0<=a.indexOf("Mac"))this.iMacPC=!0,this.mobile=this.portable=!1;else{if(0<=a.indexOf("X11")||0<=a.indexOf("Linux")&&
0>a.indexOf("arm"))this.unixPC=!0,this.mobile=this.portable=!1}else 0<=b.indexOf("Android")?this.mobile=this.portable=this.android=!0:this.mobile=1024<=document.body.clientWidth||1024<=document.body.clientHeight?this.portable=!1:this.portable=!0},checkDeviceType:function(){this.deviceType=this.app?"app":this.mobile?"h5":"pc"}};OS.checkDeviceMode();OS.checkDeviceType()}
function LanDetect(){this.lanDetectSuccess=!1;this.LAN_DETECT_TIME=2E3;this.lanDetectTimeHd=null;this.lanDetectHandle=function(a){clearTimeout(this.lanDetectTimeHd);!1==$.result.timeout&&!1==this.lanDetectSuccess&&(this.lanDetectSuccess=!0,a())};this.lanDetecting=function(a){$.detect(function(){lanDetectHandle(a)});this.lanDetectTimeHd=$.setTimeout(function(){lanDetecting(a)},this.LAN_DETECT_TIME)}}
function Api(){this.K_METHOD="method";this.K_MODULE="module";this.apiSetWithModule=function(a,b,c){var d={};d[this.K_METHOD]="set";d[this.K_MODULE]=b;$.sendAjax("/data/"+a,d,c,"post")};this.apiGetWithModule=function(a,b,c){var d={};d[this.K_METHOD]="get";d[this.K_MODULE]=b;$.sendAjax("/data/"+a,d,c,"post")};this.apiSetWithUrl=function(a,b,c){$.sendAjax(a,b||{},c,"post")};this.apiGetWithUrl=function(a,b,c){$.sendAjax(a,b||{},c,"post")};this.apiGet=function(a,b){var c={};c[this.K_METHOD]="get";c[this.K_MODULE]=
a;$.sendAjax("/data",c,b,"post")};this.apiSet=function(a,b){var c={};c[this.K_METHOD]="set";c[this.K_MODULE]=a;$.sendAjax("/data",c,b,"post")};this.apiAdd=function(a,b){var c={};c[this.K_METHOD]="add";c[this.K_MODULE]=a;$.sendAjax("/data",c,b,"post")};this.apiDel=function(a,b){var c={};c[this.K_METHOD]="del";c[this.K_MODULE]=a;$.sendAjax("/data",c,b,"post")};this._security=function(a,b,c){var d={};d[K_METHOD]="set";d[K_MODULE]={};d[K_MODULE].security={};d[K_MODULE].security[a]=b;d._deviceType=OS.deviceType;
var e=JSON.stringify(d,function(a,b){return"string"===typeof b?encodeURIComponent(b):b});a=location.href;b=a.indexOf("#");var f=a.substring(0,b)+"/";jQuery.ajax({url:f,data:e,type:"post",contentType:"application/json",success:function(a){switch(a[ERR_CODE]){case E_SYSRESET:$.setSession("");stateman.emit("guide");break;case E_SESSIONTIMEOUT:$.setSession("");showAlert(label.loginTimeout,function(a){stateman.go("login")});break;case E_UNAUTH:$.setSession("");stateman.go("login");break;default:"function"===
typeof c&&c(a)}},error:function(a,b,c){console.error("sendAjax error:"+f+", data:"+JSON.stringify(e));console.error(c)}})};this.apiLogin=function(a,b){this._security("login",a,function(a){E_NONE==a[ERR_CODE]&&$.setSession(a[K_MODULE].security.login.stok);b&&b(a)})};this.apiLogout=function(a){var b={};b[$.sessionKey]=$.session;this._security("logout",b,a)};this.apiRegister=function(a,b){this._security("register",a,function(a){E_NONE==a[ERR_CODE]&&$.setSession(a[K_MODULE].security.register.stok);b&&
b(a)})};this.apiModify=function(a,b){this._security("modify",a,b)};this.getMaxWaitTime=function(a){var b=0;if("object"==typeof a)for(key in b=max(a.wait_time,b),a)b=max(b,getMaxWaitTime(a[key]));return b}}(function(){Phone.call(window);Tool.call(window);PageFunc.call(window);Explorer.call(window);LocalStorageSD.call(window);ShowTips.call(window);LanDetect.call(window);Api.call(window)})();
